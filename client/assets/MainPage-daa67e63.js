import{_ as U,o as q,r as T,a as d,c as _,b as l,u as e,i as Z,d as O,e as j,f as k,w as a,g as u,h as M,F as V,j as P,n as C,t as r,k as h,v as g}from"./index-9f64bfb7.js";import{C as t,R as E,T as L,E as R,S as D}from"./Save-b75769fb.js";const F={class:"search"},N={__name:"Search",setup(m){const{fetchFilter:c,searchData:w,filterProject:y,selectedFilterProjects:p,filterStatus:b,selectedFilterStatus:v,isLoadingSearch:S}=O;return q(async()=>{await c()}),(o,i)=>{const n=T("MultiSelect"),f=T("Button");return d(),_("div",F,[l(n,{modelValue:e(p),"onUpdate:modelValue":i[0]||(i[0]=s=>Z(p)?p.value=s:null),options:e(y),filter:"",optionLabel:"name",placeholder:"Выберите проект",maxSelectedLabels:3,class:"prime__multiselect w-full md:w-20rem"},null,8,["modelValue","options"]),l(n,{modelValue:e(v),"onUpdate:modelValue":i[1]||(i[1]=s=>Z(v)?v.value=s:null),options:e(b),filter:"",optionLabel:"name",placeholder:"Выберите статус",maxSelectedLabels:3,class:"prime__multiselect w-full md:w-20rem"},null,8,["modelValue","options"]),l(f,{type:"button",label:"Найти",icon:"pi pi-search",class:"prime__button",onClick:e(w),loading:e(S)},null,8,["onClick","loading"])])}}},W=U(N,[["__scopeId","data-v-bb5d2b66"]]),z={},A={xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},H=j("path",{d:"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"},null,-1),I=[H];function G(m,c){return d(),_("svg",A,I)}const J=U(z,[["render",G]]),K={},Q={xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},X=j("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"},null,-1),Y=[X];function x(m,c){return d(),_("svg",Q,Y)}const B=U(K,[["render",x]]),ee={key:0},le=["onUpdate:modelValue"],te={key:0},ae=["onUpdate:modelValue"],ne={key:0},ue=["onUpdate:modelValue"],oe={key:0},se=["onUpdate:modelValue"],re={key:0},de=["onUpdate:modelValue"],ce={key:0},_e=["onUpdate:modelValue"],ie={__name:"TableOrders",setup(m){const{orders:c}=O;function w(o){o.show=!o.show}function y(o,i=null){if(i!==null){const n=c.value[o].orders.splice(i,1);c.value[o].id===n[0].id&&Object.keys(c.value[o].orders[0]).map(f=>{c.value[o][f]=c.value[o].orders[0][f]}),c.value[o].orders.length===1&&(c.value[o].show=!1);return}c.value.splice(o,1)}function p(o,i=null){return i!==null?c.value[o].orders[i].isEdit=!c.value[o].orders[i].isEdit:c.value[o].isEdit=!c.value[o].isEdit}function b(o){return o.length>1?o.reduce((i,n)=>i+=n.sumOrder,0):o[0].sumOrder}function v(o){return o>1e4?o:5}function S(o){return o.reqStatus?o.reqStatus=="Ок"?"succefully":"warning":null}return(o,i)=>e(c)?(d(),k(e(L),{key:0},{default:a(()=>[l(e(E),{class:"row_header"},{default:a(()=>[l(e(t)),l(e(t),null,{default:a(()=>[u("№")]),_:1}),l(e(t),null,{default:a(()=>[u("Номер заказа")]),_:1}),l(e(t),null,{default:a(()=>[u("Проект")]),_:1}),l(e(t),null,{default:a(()=>[u("ФИО")]),_:1}),l(e(t),null,{default:a(()=>[u("Телефон")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Сумма заказа")]),_:1}),l(e(t),null,{default:a(()=>[u("Комментарий")]),_:1}),l(e(t),null,{default:a(()=>[u("Дата посылки")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("Вид доставки")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Стоимость доставки")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Оплата доставки")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Объявленная стоимость")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("Код пункта поступления")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("Код ПВЗ")]),_:1}),l(e(t),null,{default:a(()=>[u("Вес 1 места (грамм)")]),_:1}),l(e(t),null,{default:a(()=>[u("Текст Ошибки")]),_:1}),l(e(t)),l(e(t))]),_:1}),(d(!0),_(V,null,M(e(c),(n,f)=>(d(),_(V,{key:n.id},[l(e(E),{class:C({"row_open row_bold":n.show,[S(n)]:n.reqStatus})},{default:a(()=>[l(e(t),{class:C({column_icon:n.orders.length>1})},{default:a(()=>[n.orders.length>1?(d(),k(e(J),{key:0,class:C({"arrow-bottom":n.show}),onClick:()=>w(n)},null,8,["class","onClick"])):P("",!0)]),_:2},1032,["class"]),l(e(t),null,{default:a(()=>[u(r(f+1),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(n.numberOrder),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(n.project),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(n.fio),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(n.phone),1)]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(r(b(n.orders)),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(n.comment),1)]),_:2},1024),l(e(t),null,{default:a(()=>[n.isEdit?h((d(),_("input",{key:1,"onUpdate:modelValue":s=>n.dataPackage=s,class:"table__input"},null,8,le)),[[g,n.dataPackage]]):(d(),_("span",ee,r(n.dataPackage),1))]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[n.isEdit?h((d(),_("input",{key:1,"onUpdate:modelValue":s=>n.typeTransfer=s,class:"table__input"},null,8,ae)),[[g,n.typeTransfer]]):(d(),_("span",te,r(n.typeTransfer),1))]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(r(n.deliverySum),1)]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[n.isEdit?h((d(),_("input",{key:1,"onUpdate:modelValue":s=>n.paySum=s,class:"table__input"},null,8,ue)),[[g,n.paySum]]):(d(),_("span",ne,r(n.paySum),1))]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(r(v(b(n.orders))),1)]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[n.isEdit?h((d(),_("input",{key:1,"onUpdate:modelValue":s=>n.departurePointCode=s,class:"table__input"},null,8,se)),[[g,n.departurePointCode]]):(d(),_("span",oe,r(n.departurePointCode),1))]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[n.isEdit?h((d(),_("input",{key:1,"onUpdate:modelValue":s=>n.codePWZ=s,class:"table__input"},null,8,de)),[[g,n.codePWZ]]):(d(),_("span",re,r(n.codePWZ),1))]),_:2},1024),l(e(t),null,{default:a(()=>[n.isEdit?h((d(),_("input",{key:1,"onUpdate:modelValue":s=>n.weightPackage=s,class:"table__input"},null,8,_e)),[[g,n.weightPackage]]):(d(),_("span",ce,r(n.weightPackage),1))]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(n.reqStatus),1)]),_:2},1024),l(e(t),{align:"center",class:"column_icon"},{default:a(()=>[n.isEdit?(d(),k(e(D),{key:1,onClick:()=>p(f)},null,8,["onClick"])):(d(),k(e(R),{key:0,onClick:()=>p(f)},null,8,["onClick"]))]),_:2},1024),l(e(t),{align:"center",class:"column_icon"},{default:a(()=>[l(e(B),{onClick:()=>y(f)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class"]),n.orders.length>1&&n.show?(d(!0),_(V,{key:0},M(n.orders,(s,$)=>(d(),k(e(E),{key:f+s.id,class:C({row_open:n.show})},{default:a(()=>[l(e(t)),l(e(t),null,{default:a(()=>[u(r($+1),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(s.numberOrder),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(s.project),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(s.fio),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(s.phone),1)]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(r(s.sumOrder),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(s.comment),1)]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u(r(s.departurePointCode),1)]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[u(r(s.codePWZ),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(r(s.weightPackage),1)]),_:2},1024),l(e(t)),l(e(t),{align:"center"}),l(e(t),{align:"center",class:"column_icon"},{default:a(()=>[l(e(B),{onClick:()=>y(f,$)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128)):P("",!0)],64))),128))]),_:1})):P("",!0)}},he={__name:"MainPage",setup(m){return(c,w)=>(d(),_(V,null,[l(W),l(ie)],64))}};export{he as default};
