import{a as n,f as r,w as a,b as t,u as e,g as u,c as p,F as w,h as E,t as m,k as I,v as S,d as k,_ as g,l as x,n as L,p as b,m as z,e as B,o as T}from"./index-9f64bfb7.js";import{R as h,C as l,E as V,S as $,T as D}from"./Save-b75769fb.js";const N={key:0},P=["onUpdate:modelValue"],R={__name:"TableCities",setup(c){const{cities:o,updatePriceById:i}=k;function v(_){return _?new Date(_).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"}):""}async function f(_){const y=o.value[_].isEdit;if(y){const{_id:s,price:d}=o.value[_];await i(s,{price:d})}return o.value[_].isEdit=!y}return(_,y)=>(n(),r(e(D),null,{default:a(()=>[t(e(h),{class:"row_header row_cities"},{default:a(()=>[t(e(l),null,{default:a(()=>[u("№")]),_:1}),t(e(l),null,{default:a(()=>[u("Название города")]),_:1}),t(e(l),null,{default:a(()=>[u("Стоимость")]),_:1}),t(e(l),null,{default:a(()=>[u("Дата изменения")]),_:1}),t(e(l))]),_:1}),(n(!0),p(w,null,E(e(o),(s,d)=>(n(),r(e(h),{class:"row_cities",key:s.id},{default:a(()=>[t(e(l),null,{default:a(()=>[u(m(d+1),1)]),_:2},1024),t(e(l),null,{default:a(()=>[u(m(s.name),1)]),_:2},1024),t(e(l),null,{default:a(()=>[s.isEdit?I((n(),p("input",{key:1,"onUpdate:modelValue":C=>s.price=C,class:"table__input"},null,8,P)),[[S,s.price]]):(n(),p("span",N,m(s.price),1))]),_:2},1024),t(e(l),null,{default:a(()=>[u(m(v(s.dateEdit)),1)]),_:2},1024),t(e(l),null,{default:a(()=>[s.isEdit?(n(),r(e($),{key:1,onClick:()=>f(d)},null,8,["onClick"])):(n(),r(e(V),{key:0,onClick:()=>f(d)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}))}};const F=c=>(b("data-v-0a9575dd"),c=c(),z(),c),U=F(()=>B("span",{class:"loader__element"},null,-1)),M=[U],A={__name:"Loader",props:{size:{type:String,default:"default"}},setup(c){const o=c,i=x(()=>({default:"",small:"loader_size_small",medium:"loader_size_medium"})[o.size]);return(v,f)=>(n(),p("div",{class:L(["loader",{[i.value]:i.value}])},M,2))}},j=g(A,[["__scopeId","data-v-0a9575dd"]]);const q={key:1,class:"backdrop"},G={__name:"CitiesPage",setup(c){const{fetchCities:o,isLoadingCities:i}=k;return T(async()=>{await o()}),(v,f)=>e(i)?(n(),p("div",q,[t(j)])):(n(),r(R,{key:0}))}},K=g(G,[["__scopeId","data-v-53688411"]]);export{K as default};
