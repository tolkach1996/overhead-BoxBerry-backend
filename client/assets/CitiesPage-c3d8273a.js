import{a as n,g as r,h as a,b as t,u as e,k as u,c as p,F as w,l as E,t as m,j as I,p as S,d as k,_ as g,q as x,n as L,s as b,x as z,e as B,o as T}from"./index-1fc3756f.js";import{R as v,C as l,E as V,S as $,T as D}from"./Save-90b8ce14.js";const N={key:0},P=["onUpdate:modelValue"],R={__name:"TableCities",setup(c){const{cities:o,updatePriceById:i}=k;function y(_){return _?new Date(_).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"}):""}async function f(_){const h=o.value[_].isEdit;if(h){const{_id:s,price:d}=o.value[_];i(s,{price:d})}return o.value[_].isEdit=!h}return(_,h)=>(n(),r(e(D),null,{default:a(()=>[t(e(v),{class:"row_header row_cities"},{default:a(()=>[t(e(l),null,{default:a(()=>[u("№")]),_:1}),t(e(l),null,{default:a(()=>[u("Название города")]),_:1}),t(e(l),null,{default:a(()=>[u("Стоимость")]),_:1}),t(e(l),null,{default:a(()=>[u("Дата изменения")]),_:1}),t(e(l))]),_:1}),(n(!0),p(w,null,E(e(o),(s,d)=>(n(),r(e(v),{class:"row_cities",key:s.id},{default:a(()=>[t(e(l),null,{default:a(()=>[u(m(d+1),1)]),_:2},1024),t(e(l),null,{default:a(()=>[u(m(s.name),1)]),_:2},1024),t(e(l),null,{default:a(()=>[s.isEdit?I((n(),p("input",{key:1,"onUpdate:modelValue":C=>s.price=C,class:"table__input"},null,8,P)),[[S,s.price]]):(n(),p("span",N,m(s.price),1))]),_:2},1024),t(e(l),null,{default:a(()=>[u(m(y(s.dateEdit)),1)]),_:2},1024),t(e(l),null,{default:a(()=>[s.isEdit?(n(),r(e($),{key:1,onClick:()=>f(d)},null,8,["onClick"])):(n(),r(e(V),{key:0,onClick:()=>f(d)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}))}};const F=c=>(b("data-v-0a9575dd"),c=c(),z(),c),U=F(()=>B("span",{class:"loader__element"},null,-1)),M=[U],j={__name:"Loader",props:{size:{type:String,default:"default"}},setup(c){const o=c,i=x(()=>({default:"",small:"loader_size_small",medium:"loader_size_medium"})[o.size]);return(y,f)=>(n(),p("div",{class:L(["loader",{[i.value]:i.value}])},M,2))}},q=g(j,[["__scopeId","data-v-0a9575dd"]]);const A={key:1,class:"backdrop"},G={__name:"CitiesPage",setup(c){const{fetchCities:o,isLoadingCities:i}=k;return T(async()=>{await o()}),(y,f)=>e(i)?(n(),p("div",A,[t(q)])):(n(),r(R,{key:0}))}},K=g(G,[["__scopeId","data-v-53688411"]]);export{K as default};
