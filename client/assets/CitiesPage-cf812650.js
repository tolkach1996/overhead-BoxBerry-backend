import{o as l,v as r,x as t,i as a,u as e,z as i,c as d,F as v,A as w,t as _,w as E,B as x,k as C,_ as B,f as L}from"./index-2878236e.js";import{R as y,C as n,E as T,S as b,T as D}from"./Save-16c2b892.js";import{L as I}from"./Loader-4f4ddc30.js";const P={key:0},R=["onUpdate:modelValue"],S={__name:"TableCities",setup(g){const{cities:u,updatePriceById:p}=C;function m(o){return o?new Date(o).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"}):""}async function f(o){const k=u.value[o].isEdit;if(k){const{_id:s,price:c}=u.value[o];p(s,{price:c})}return u.value[o].isEdit=!k}return(o,k)=>(l(),r(e(D),null,{default:t(()=>[a(e(y),{class:"row_header row_cities"},{default:t(()=>[a(e(n),null,{default:t(()=>[i("№")]),_:1}),a(e(n),null,{default:t(()=>[i("Название города")]),_:1}),a(e(n),null,{default:t(()=>[i("Стоимость")]),_:1}),a(e(n),null,{default:t(()=>[i("Дата изменения")]),_:1}),a(e(n))]),_:1}),(l(!0),d(v,null,w(e(u),(s,c)=>(l(),r(e(y),{class:"row_cities",key:s.id},{default:t(()=>[a(e(n),null,{default:t(()=>[i(_(c+1),1)]),_:2},1024),a(e(n),null,{default:t(()=>[i(_(s.name),1)]),_:2},1024),a(e(n),null,{default:t(()=>[s.isEdit?E((l(),d("input",{key:1,"onUpdate:modelValue":h=>s.price=h,class:"table__input"},null,8,R)),[[x,s.price]]):(l(),d("span",P,_(s.price),1))]),_:2},1024),a(e(n),null,{default:t(()=>[i(_(m(s.dateEdit)),1)]),_:2},1024),a(e(n),null,{default:t(()=>[s.isEdit?(l(),r(e(b),{key:1,onClick:()=>f(c)},null,8,["onClick"])):(l(),r(e(T),{key:0,onClick:()=>f(c)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}))}};const V={key:1,class:"backdrop"},F={__name:"CitiesPage",setup(g){const{fetchCities:u,isLoadingCities:p}=C;return L(async()=>{await u()}),(m,f)=>e(p)?(l(),d("div",V,[a(I)])):(l(),r(S,{key:0}))}},N=B(F,[["__scopeId","data-v-53688411"]]);export{N as default};
