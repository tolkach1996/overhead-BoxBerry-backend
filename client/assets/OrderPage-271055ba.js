import{_ as D,o as r,c as n,a as e,b as B,v as p,x as N,z as l,u as s,a0 as L,H as M,I as q,e as z,f as C,F as v,t as o,A as E,d as V,$ as R,E as T,G as j}from"./index-51616aa6.js";import{b as A,f as G,c as h}from"./formatter-d2a87643.js";import{L as H}from"./Loader-9053d238.js";const J={},K={class:"message"},Q={class:"message__title"},U={class:"message__image"};function W(d,i){return r(),n("div",K,[e("div",Q,[B(d.$slots,"title",{},void 0,!0)]),e("div",U,[B(d.$slots,"content",{},void 0,!0)])])}const X=D(J,[["render",W],["__scopeId","data-v-dae2cf61"]]),Y="/assets/sadSearch-cbfca02a.svg",Z=["src"],ee={__name:"OrderNotFound",setup(d){return(i,u)=>(r(),p(X,null,{title:N(()=>[l(" Заказ не найден ")]),content:N(()=>[e("img",{src:s(Y),alt:""},null,8,Z)]),_:1}))}};const c=d=>(T("data-v-ebdeacd3"),d=d(),j(),d),se=c(()=>e("h1",null,"Информация о заказе",-1)),oe={class:"order"},_e={class:"order__column order__column_size_fixed"},te={class:"card"},de=c(()=>e("span",{class:"card__name"},"Клиент",-1)),re={class:"user"},ae=c(()=>e("div",{class:"user__avatar"},null,-1)),ce={class:"user-info"},ne={class:"user-info__name"},le={class:"user-info__phone"},ie={class:"card"},ue={class:"card-order__header"},ve={class:"card-order__row card-order__row_vertical"},he=c(()=>e("div",{class:"card-order__title"},"Заказ №",-1)),pe={class:"card-order__num-status"},be={class:"card-order__number"},ge={class:"card-order__status"},me={class:"card-order__row"},fe={class:"card-order__sub-title"},ye={class:"card-order__row"},we={class:"card-order__sub-title"},Se={class:"card-order__row"},xe={class:"card-order__sub-title"},$e={class:"card-order__comment"},Oe=c(()=>e("div",{class:"card-order__title"},"Комментарий",-1)),ke={class:"card-order__text"},Ie={class:"order__column"},Pe={class:"order-table"},Be=R('<div class="order-table__row order-table__row_header" data-v-ebdeacd3><div class="order-table__col" data-v-ebdeacd3>Наименование товара</div><div class="order-table__col order-table__col_align_right" data-v-ebdeacd3>Стоимость</div><div class="order-table__col order-table__col_align_center" data-v-ebdeacd3>Количество</div><div class="order-table__col order-table__col_align_right" data-v-ebdeacd3>Сумма</div></div>',1),Ne={class:"order-table__col"},Ve={class:"order-table__col order-table__col_align_right"},De={class:"order-table__col order-table__col_align_center"},Fe={class:"order-table__col order-table__col_align_right"},Le={class:"order__summary"},Me=c(()=>e("span",null,"ИТОГО",-1)),qe={__name:"OrderPage",setup(d){const i=L(),u=M(),{loading:b,order:_}=q(u),F=z(()=>_.value.positions.rows.reduce((a,m)=>a+=g(m),0));function g(a){return((a==null?void 0:a.price)||0)*a.quantity/100}return C(()=>{u.getOrderByDocumentId(i.params.id)}),(a,m)=>{var f,y,w,S,x,$,O,k,I;return r(),n(v,null,[s(_)?(r(),n(v,{key:0},[se,e("div",oe,[e("div",_e,[e("div",te,[de,e("div",re,[ae,e("div",ce,[e("div",ne,o((f=s(_).agent)==null?void 0:f.name),1),e("div",le,o(s(A)((y=s(_).agent)==null?void 0:y.phone)),1)])])]),e("div",ie,[e("div",ue,[e("div",ve,[he,e("div",pe,[e("span",be,o(s(_).name),1),e("div",ge,o((w=s(_).state)==null?void 0:w.name),1)])]),e("div",me,[e("div",fe,[l("Дата заказа: "),e("b",null,o(s(G)((S=s(_))==null?void 0:S.created)),1)])]),e("div",ye,[e("div",we,[l("Склад: "),e("b",null,o((($=(x=s(_))==null?void 0:x.store)==null?void 0:$.name)||"нет"),1)])]),e("div",Se,[e("div",xe,[l("Проект: "),e("b",null,o(((k=(O=s(_))==null?void 0:O.project)==null?void 0:k.name)||"нет"),1)])])]),e("div",$e,[Oe,e("div",ke,o(s(_).description),1)])])]),e("div",Ie,[e("div",Pe,[Be,(r(!0),n(v,null,E((I=s(_).positions)==null?void 0:I.rows,t=>{var P;return r(),n("div",{class:"order-table__row",key:t.id},[e("div",Ne,o((P=t.assortment)==null?void 0:P.name),1),e("div",Ve,o(s(h)(((t==null?void 0:t.price)||0)/100)),1),e("div",De,o(t==null?void 0:t.quantity),1),e("div",Fe,o(s(h)(g(t))),1)])}),128))]),e("div",Le,[Me,e("span",null,o(s(h)(F.value)),1)])])])],64)):!s(_)&&!s(b)?(r(),p(ee,{key:1})):V("",!0),s(b)?(r(),p(H,{key:2})):V("",!0)],64)}}},Re=D(qe,[["__scopeId","data-v-ebdeacd3"]]);export{Re as default};
