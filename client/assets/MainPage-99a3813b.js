import{_ as $,o as R,r as Z,a as r,c as _,b as l,u as e,i as B,d as L,e as C,f as D,w as F,g as m,h as a,j as p,v as O,k as u,l as j,F as V,m as U,n as b,t as s,p as k}from"./index-7215ddc6.js";import{C as t,R as E,T as N,E as A,S as W}from"./Save-0f35c185.js";const z={class:"search"},H={__name:"Search",setup(w){const{fetchFilter:c,searchData:h,filterProject:S,selectedFilterProjects:g,filterStatus:y,selectedFilterStatus:v,isLoadingSearch:P}=L;return R(async()=>{await c()}),(M,o)=>{const i=Z("MultiSelect"),n=Z("Button");return r(),_("div",z,[l(i,{modelValue:e(g),"onUpdate:modelValue":o[0]||(o[0]=f=>B(g)?g.value=f:null),options:e(S),filter:"",optionLabel:"name",placeholder:"Выберите проект",maxSelectedLabels:3,class:"prime__multiselect w-full md:w-20rem"},null,8,["modelValue","options"]),l(i,{modelValue:e(v),"onUpdate:modelValue":o[1]||(o[1]=f=>B(v)?v.value=f:null),options:e(y),filter:"",optionLabel:"name",placeholder:"Выберите статус",maxSelectedLabels:3,class:"prime__multiselect w-full md:w-20rem"},null,8,["modelValue","options"]),l(n,{type:"button",label:"Найти",icon:"pi pi-search",class:"prime__button",onClick:e(h),loading:e(P)},null,8,["onClick","loading"])])}}},I=$(H,[["__scopeId","data-v-bb5d2b66"]]),x={},G={xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},J=C("path",{d:"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"},null,-1),K=[J];function Q(w,c){return r(),_("svg",G,K)}const X=$(x,[["render",Q]]),Y={},ee={xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24"},le=C("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"},null,-1),te=[le];function ae(w,c){return r(),_("svg",ee,te)}const q=$(Y,[["render",ae]]),ne=["onUpdate:modelValue"],ue={key:0},oe=["onUpdate:modelValue"],se={key:0},de=["onUpdate:modelValue"],re={key:0},ce=["onUpdate:modelValue"],_e={key:0},ie=["onUpdate:modelValue"],fe={key:0},pe=["onUpdate:modelValue"],he={key:0},ge=["onUpdate:modelValue"],ve={__name:"TableOrders",setup(w){const{orders:c}=L,h=D(!1);function S(o){o.show=!o.show}function g(o,i=null){if(i!==null){const n=c.value[o].orders.splice(i,1);c.value[o].id===n[0].id&&Object.keys(c.value[o].orders[0]).map(f=>{c.value[o][f]=c.value[o].orders[0][f]}),c.value[o].orders.length===1&&(c.value[o].show=!1);return}c.value.splice(o,1)}function y(o,i=null){return i!==null?c.value[o].orders[i].isEdit=!c.value[o].orders[i].isEdit:c.value[o].isEdit=!c.value[o].isEdit}function v(o){return o.length>1?o.reduce((i,n)=>i+=n.sumOrder,0):o[0].sumOrder}function P(o){return o>1e4?o:5}function M(o){return o.reqStatus?o.reqStatus=="Ок"?"succefully":"warning":null}return F(h,o=>{c.value=c.value.map(i=>(i.selected=o,i))}),(o,i)=>e(c)?(r(),m(e(N),{key:0},{default:a(()=>[l(e(E),{class:"row_header"},{default:a(()=>[l(e(t),null,{default:a(()=>[p(C("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=n=>h.value=n)},null,512),[[O,h.value]])]),_:1}),l(e(t)),l(e(t),null,{default:a(()=>[u("№")]),_:1}),l(e(t),null,{default:a(()=>[u("Номер заказа")]),_:1}),l(e(t),null,{default:a(()=>[u("Проект")]),_:1}),l(e(t),null,{default:a(()=>[u("ФИО")]),_:1}),l(e(t),null,{default:a(()=>[u("Телефон")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Сумма заказа")]),_:1}),l(e(t),null,{default:a(()=>[u("Комментарий")]),_:1}),l(e(t),null,{default:a(()=>[u("Дата посылки")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("Вид доставки")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Стоимость доставки")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Оплата доставки")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("Объявленная стоимость")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("Код пункта поступления")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("Код ПВЗ")]),_:1}),l(e(t),null,{default:a(()=>[u("Вес 1 места (грамм)")]),_:1}),l(e(t),null,{default:a(()=>[u("Текст Ошибки")]),_:1}),l(e(t)),l(e(t))]),_:1}),(r(!0),_(V,null,j(e(c),(n,f)=>(r(),_(V,{key:n.id},[l(e(E),{class:b({"row_open row_bold":n.show,[M(n)]:n.reqStatus})},{default:a(()=>[l(e(t),null,{default:a(()=>[p(C("input",{type:"checkbox","onUpdate:modelValue":d=>n.selected=d},null,8,ne),[[O,n.selected]])]),_:2},1024),l(e(t),{class:b({column_icon:n.orders.length>1})},{default:a(()=>[n.orders.length>1?(r(),m(e(X),{key:0,class:b({"arrow-bottom":n.show}),onClick:()=>S(n)},null,8,["class","onClick"])):U("",!0)]),_:2},1032,["class"]),l(e(t),null,{default:a(()=>[u(s(f+1),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(n.numberOrder),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(n.project),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(n.fio),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(n.phone),1)]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(s(v(n.orders)),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(n.comment),1)]),_:2},1024),l(e(t),null,{default:a(()=>[n.isEdit?p((r(),_("input",{key:1,"onUpdate:modelValue":d=>n.dataPackage=d,class:"table__input"},null,8,oe)),[[k,n.dataPackage]]):(r(),_("span",ue,s(n.dataPackage),1))]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[n.isEdit?p((r(),_("input",{key:1,"onUpdate:modelValue":d=>n.typeTransfer=d,class:"table__input"},null,8,de)),[[k,n.typeTransfer]]):(r(),_("span",se,s(n.typeTransfer),1))]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(s(n.deliverySum),1)]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[n.isEdit?p((r(),_("input",{key:1,"onUpdate:modelValue":d=>n.paySum=d,class:"table__input"},null,8,ce)),[[k,n.paySum]]):(r(),_("span",re,s(n.paySum),1))]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(s(P(v(n.orders))),1)]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[n.isEdit?p((r(),_("input",{key:1,"onUpdate:modelValue":d=>n.departurePointCode=d,class:"table__input"},null,8,ie)),[[k,n.departurePointCode]]):(r(),_("span",_e,s(n.departurePointCode),1))]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[n.isEdit?p((r(),_("input",{key:1,"onUpdate:modelValue":d=>n.codePWZ=d,class:"table__input"},null,8,pe)),[[k,n.codePWZ]]):(r(),_("span",fe,s(n.codePWZ),1))]),_:2},1024),l(e(t),null,{default:a(()=>[n.isEdit?p((r(),_("input",{key:1,"onUpdate:modelValue":d=>n.weightPackage=d,class:"table__input"},null,8,ge)),[[k,n.weightPackage]]):(r(),_("span",he,s(n.weightPackage),1))]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(n.reqStatus),1)]),_:2},1024),l(e(t),{align:"center",class:"column_icon"},{default:a(()=>[n.isEdit?(r(),m(e(W),{key:1,onClick:()=>y(f)},null,8,["onClick"])):(r(),m(e(A),{key:0,onClick:()=>y(f)},null,8,["onClick"]))]),_:2},1024),l(e(t),{align:"center",class:"column_icon"},{default:a(()=>[l(e(q),{onClick:()=>g(f)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class"]),n.orders.length>1&&n.show?(r(!0),_(V,{key:0},j(n.orders,(d,T)=>(r(),m(e(E),{key:f+d.id,class:b({row_open:n.show})},{default:a(()=>[l(e(t)),l(e(t),null,{default:a(()=>[u(s(T+1),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(d.numberOrder),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(d.project),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(d.fio),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(d.phone),1)]),_:2},1024),l(e(t),{align:"right"},{default:a(()=>[u(s(d.sumOrder),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(d.comment),1)]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"right"},{default:a(()=>[u("-")]),_:1}),l(e(t),{align:"center"},{default:a(()=>[u(s(d.departurePointCode),1)]),_:2},1024),l(e(t),{align:"center"},{default:a(()=>[u(s(d.codePWZ),1)]),_:2},1024),l(e(t),null,{default:a(()=>[u(s(d.weightPackage),1)]),_:2},1024),l(e(t)),l(e(t),{align:"center"}),l(e(t),{align:"center",class:"column_icon"},{default:a(()=>[l(e(q),{onClick:()=>g(f,T)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class"]))),128)):U("",!0)],64))),128))]),_:1})):U("",!0)}},we={__name:"MainPage",setup(w){return(c,h)=>(r(),_(V,null,[l(I),l(ve)],64))}};export{we as default};
