import{o as n,v as r,x as a,i as t,u as e,z as u,c as p,F as w,A as E,t as m,w as I,C as S,k,_ as C,e as x,n as z,E as L,G as B,a as T,f as V}from"./index-6f40523b.js";import{R as h,C as l,E as $,S as b,T as D}from"./Save-ae4d7c4b.js";const N={key:0},P=["onUpdate:modelValue"],R={__name:"TableCities",setup(c){const{cities:o,updatePriceById:i}=k;function v(_){return _?new Date(_).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"}):""}async function f(_){const y=o.value[_].isEdit;if(y){const{_id:s,price:d}=o.value[_];i(s,{price:d})}return o.value[_].isEdit=!y}return(_,y)=>(n(),r(e(D),null,{default:a(()=>[t(e(h),{class:"row_header row_cities"},{default:a(()=>[t(e(l),null,{default:a(()=>[u("№")]),_:1}),t(e(l),null,{default:a(()=>[u("Название города")]),_:1}),t(e(l),null,{default:a(()=>[u("Стоимость")]),_:1}),t(e(l),null,{default:a(()=>[u("Дата изменения")]),_:1}),t(e(l))]),_:1}),(n(!0),p(w,null,E(e(o),(s,d)=>(n(),r(e(h),{class:"row_cities",key:s.id},{default:a(()=>[t(e(l),null,{default:a(()=>[u(m(d+1),1)]),_:2},1024),t(e(l),null,{default:a(()=>[u(m(s.name),1)]),_:2},1024),t(e(l),null,{default:a(()=>[s.isEdit?I((n(),p("input",{key:1,"onUpdate:modelValue":g=>s.price=g,class:"table__input"},null,8,P)),[[S,s.price]]):(n(),p("span",N,m(s.price),1))]),_:2},1024),t(e(l),null,{default:a(()=>[u(m(v(s.dateEdit)),1)]),_:2},1024),t(e(l),null,{default:a(()=>[s.isEdit?(n(),r(e(b),{key:1,onClick:()=>f(d)},null,8,["onClick"])):(n(),r(e($),{key:0,onClick:()=>f(d)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}))}};const F=c=>(L("data-v-0a9575dd"),c=c(),B(),c),U=F(()=>T("span",{class:"loader__element"},null,-1)),A=[U],M={__name:"Loader",props:{size:{type:String,default:"default"}},setup(c){const o=c,i=x(()=>({default:"",small:"loader_size_small",medium:"loader_size_medium"})[o.size]);return(v,f)=>(n(),p("div",{class:z(["loader",{[i.value]:i.value}])},A,2))}},G=C(M,[["__scopeId","data-v-0a9575dd"]]);const j={key:1,class:"backdrop"},q={__name:"CitiesPage",setup(c){const{fetchCities:o,isLoadingCities:i}=k;return V(async()=>{await o()}),(v,f)=>e(i)?(n(),p("div",j,[t(G)])):(n(),r(R,{key:0}))}},K=C(q,[["__scopeId","data-v-53688411"]]);export{K as default};
